"use strict";(self.webpackChunkgame=self.webpackChunkgame||[]).push([[274],{1274:(t,e,r)=>{r.r(e),r.d(e,{default:()=>bo});var n=r(8949),o=r(7104),i=r(8220),a=r(6194);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function l(t,e,r){return e=y(e),function(t,e){if(e&&("object"==c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=p(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},h.apply(null,arguments)}function p(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function v(t,e,r){return(e=b(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}var g=function(t){function e(t){var r,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return u(this,e),(r=l(this,e,[t])).autoStart=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),function(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"to",value:function(t,r){return function(t,e,r,n){var o=h(y(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}(e,"to",this,3)([t,r]),this.autoStart&&this.start(),this}},{key:"then",value:function(t){var e=this;return new Promise((function(t){e.onComplete(t)})).then(t)}}])}(a.ZP.Tween);v(g,"Easing",a.ZP.Easing),v(g,"Interpolation",a.ZP.Interpolation);const m=g;var w,x,S,O=r(1505);function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function j(){j=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",y="completed",d={};function v(){}function b(){}function g(){}var m={};s(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==r&&n.call(x,a)&&(m=x);var S=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==k(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=E(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(k(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function _(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N(n.key),n)}}function T(t,e,r){return e=D(e),function(t,e){if(e&&("object"==k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,C()?Reflect.construct(e,r||[],D(t).constructor):e.apply(t,r))}function C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(C=function(){return!!t})()}function A(t,e,r,n){var o=F(D(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function F(){return F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=B(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},F.apply(null,arguments)}function B(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=D(t)););return t}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}function I(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function R(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function N(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k(e)?e:e+""}function G(t,e,r){"symbol"==k(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function q(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?k(t):"null"));return t}var Z=new WeakMap,z=function(t){function e(){var t;E(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return I(t=T(this,e,[].concat(n)),Z,x(t,!1)),S(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(e,t),function(t,e,r){return e&&L(t.prototype,e),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"init",value:(r=j().mark((function t(){return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e,"init",this,3)([]);case 2:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){_(i,n,o,a,c,"next",t)}function c(t){_(i,n,o,a,c,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"setText",value:function(t){this.priceText.text=t}},{key:"setCompleted",value:function(){this.completedText.visible=!0,this.upgradeText.visible=!1,this.priceText.visible=!1,this.isDisabled=!0,this.root.query("disabled/coin").visible=!1}},{key:"isDisabled",get:function(){return function(t,e){return t.get(R(t,e))}(Z,this)},set:function(t){!function(t,e,r){t.set(R(t,e),r)}(Z,this,t)}},{key:"onCreate",value:function(){var t=this;this.root=(0,i.q0)(this,"root"),this.clickSound=this.config.props.clickSound,this.disabledContent=(0,i.q0)(this.root,"disabled"),this.content=(0,i.q0)(this.root,"content"),this.priceText=(0,i.q0)(this.root,"priceText"),this.upgradeText=(0,i.q0)(this.root,"upgradeText"),this.completedText=(0,i.q0)(this.root,"completedText"),this.completedText.visible=!1,this.isDown=!1,this.isChecked=!1,this.isHovered=!1,this.isClickCancelled=!1,this.cancelClickOnDrag=this.config.props.cancelClickOnDrag,this.knownTouches={},this.interactive=!0,this.buttonMode=!0,this.on("click",this.onClick,this),this.on("tap",this.onClick,this),this.on("pointerdown",this.onPointerdown,this),this.on("pointerup",this.onPointerup,this),this.on("pointerupoutside",this.onPointerup,this),this.on("pointercancel",this.onPointerup,this),this.on("pointermove",this.onPointermove,this),this.on("pointerover",this.onPointerover,this),this.on("pointerout",this.onPointerout,this),(0,n.EH)((function(){t.upgradeText.style.fill=t.isDisabled?12183551:16577351,t.content.visible=!t.isDisabled,t.disabledContent&&(t.disabledContent.visible=t.isDisabled)}))}},{key:"onClick",value:function(){if(!this.isClickCancelled){if(this.isDisabled)return this.emit("button:disabledClick"),void(this.clickSound&&O.Z.replaySingle("button_press3",!1,.5));this.clickSound&&O.Z.replaySingle(this.clickSound),this.emit("button:click")}}},{key:"onPointerdown",value:function(t){this.isDown=!0,this.isDisabled||(this.isClickCancelled=!1),new m(this.root.scale).to({x:.9,y:.9},100).start(),this.emit("button:down"),this.knownTouches[t.data.identifier]={x:t.data.global.x,y:t.data.global.y}}},{key:"onPointerup",value:function(t){delete this.knownTouches[t.data.identifier],this.isDown=!1,new m(this.root.scale).to({x:1,y:1},500).easing((function(t){return Math.pow(2,-6*t)*Math.sin(10*(t+.5))+1})).start(),this.emit("button:up")}},{key:"onPointermove",value:function(t){var e=this.knownTouches[t.data.identifier];if(e){var r=this.cancelClickOnDrag;if(void 0!==r){var n=e.x-t.data.global.x,o=e.y-t.data.global.y,i=Math.sqrt(n*n+o*o);("object"===k(r)&&(Math.abs(n)>=r.x||Math.abs(o)>=r.y)||"number"==typeof r&&i>=r||"boolean"==typeof r&&r&&i>=20)&&(this.isClickCancelled=!0,this.onPointerup(t))}}}},{key:"onPointerover",value:function(){this.isHovered=!0}},{key:"setDisabled",value:function(t){this.isDisabled=t}},{key:"onPointerout",value:function(t){this.isHovered=!1,this.onPointermove(t)}}]);var r,o}(w=o.Z.Component),W=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return P(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(t,e,r,n,o,i){var a,c,u,s,l,f,h,p=Symbol.metadata||Symbol.for("Symbol.metadata"),y=Object.defineProperty,d=Object.create,v=[d(null),d(null)],b=e.length;function g(e,r,n){return function(o,i){r&&(i=o,o=t);for(var a=0;a<e.length;a++)i=e[a].apply(o,n?[i]:[]);return n?i:o}}function m(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function w(t,e,r,n,o,i,u,s,l,f,h){function p(t){if(!h(t))throw new TypeError("Attempted to access private element on non-instance")}var d=[].concat(e[0]),b=e[3],w=!u,x=1===o,S=3===o,O=4===o,P=2===o;function j(e,r,n){return function(o,i){return r&&(i=o,o=t),n&&n(o),_[e].call(o,i)}}if(!w){var _={},E=[],L=S?"get":O||x?"set":"value";if(l?(f||x?_={get:G((function(){return b(this)}),n,"get"),set:function(t){e[4](this,t)}}:_[L]=b,f||G(_[L],n,P?"":L)):f||(_=Object.getOwnPropertyDescriptor(t,n)),!f&&!l){if((c=v[+s][n])&&7!=(c^o))throw Error("Decorating two elements with the same name ("+_[L].name+") is not supported yet");v[+s][n]=o<3?1:o}}for(var T=t,C=d.length-1;C>=0;C-=r?2:1){var A=m(d[C],"A decorator","be",!0),F=r?d[C-1]:void 0,B={},D={kind:["field","accessor","method","getter","setter","class"][o],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");m(e,"An initializer","be",!0),i.push(e)}.bind(null,B)};if(w)c=A.call(F,T,D),B.v=1,m(c,"class decorators","return")&&(T=c);else if(D.static=s,D.private=l,c=D.access={has:l?h.bind():function(t){return n in t}},O||(c.get=l?P?function(t){return p(t),_.value}:j("get",0,p):function(t){return t[n]}),P||S||(c.set=l?j("set",0,p):function(t,e){t[n]=e}),T=A.call(F,x?{get:_.get,set:_.set}:_[L],D),B.v=1,x){if("object"==k(T)&&T)(c=m(T.get,"accessor.get"))&&(_.get=c),(c=m(T.set,"accessor.set"))&&(_.set=c),(c=m(T.init,"accessor.init"))&&E.unshift(c);else if(void 0!==T)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else m(T,(f?"field":"method")+" decorators","return")&&(f?E.unshift(T):_[L]=T)}return o<2&&u.push(g(E,s,1),g(i,s,0)),f||w||(l?x?u.splice(-1,0,j("get",s),j("set",s)):u.push(P?_[L]:m.call.bind(_[L])):y(t,n,_)),T}function x(t){return y(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==i&&(a=i[p]),a=d(null==a?null:a),l=[],f=function(t){t&&l.push(g(t))},h=function(e,n){for(var i=0;i<r.length;i++){var a=r[i],c=a[1],f=7&c;if((8&c)==e&&!f==n){var h=a[2],p=!!a[3],y=16&c;w(e?t:t.prototype,a,y,p?"#"+h:N(h),f,f<2?[]:e?s=s||[]:u=u||[],l,!!e,p,n,e&&p?function(e){return q(e)===t}:o)}}},h(8,0),h(0,0),h(8,1),h(0,1),f(u),f(s),c=l,b||x(t),{e:c,get c(){var r=[];return b&&[x(t=w(t,[e],n,t.name,5,r)),g(r,1)]}}}(z,[],[[n.LO,1,"isDisabled"]],0,void 0,w).e,2);x=W[0],S=W[1],function(t,e,r){(e=N(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(z,"defaultProps",{cancelClickOnDrag:{type:"boolean",value:!1},clickSound:{type:"string",value:"button_press3"}});var X=r(6013),Y=r(6871),U=r(3494),H=r(6133),V=r(1477);function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function K(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J(n.key),n)}}function J(t){var e=function(t,e){if("object"!=$(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$(e)?e:e+""}function Q(t,e,r){return e=et(e),function(t,e){if(e&&("object"==$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tt()?Reflect.construct(e,r||[],et(t).constructor):e.apply(t,r))}function tt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tt=function(){return!!t})()}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}var nt=268,ot=268,it=5990,at=274,ct=4420,ut=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Q(this,e)).mask,t._baseAutoScrollSpeed=3/16,t._autoScrollSpeedMultiplier=0,t._autoScrollDirection=1,t._autoScrollPaused=!1,t.mode="horizontal",t.pivotX=ot,t.disposeBag.push(V.Z.observer.onOff("tick",t.tick,t)),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(e,t),function(t,e,r){return e&&K(t.prototype,e),r&&K(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"pivotX",get:function(){return this.pivot.x},set:function(t){this.pivot.x=t}},{key:"pivotY",get:function(){return this.pivot.y},set:function(t){this.pivot.y=t}},{key:"modifiedPivot",get:function(){return"horizontal"===this.mode?this.pivotX:this.pivotY},set:function(t){"horizontal"===this.mode?this.pivotX=t:this.pivotY=t}},{key:"resetScroll",value:function(){"horizontal"===this.mode?(this.pivotX=ot,this.pivotY=0):(this.pivotX=ot,this.pivotY=at)}},{key:"getMinPivot",value:function(){return"horizontal"===this.mode?ot:at}},{key:"getMaxPivot",value:function(){return"horizontal"===this.mode?it:ct}},{key:"pauseAutoScroll",value:function(){this._autoScrollPaused=!0}},{key:"resumeAutoScroll",value:function(){this._autoScrollPaused=!1}},{key:"setAutoScrollSpeedMultiplier",value:function(t){this._autoScrollSpeedMultiplier=t}},{key:"setAutoScrollDirection",value:function(t){this._autoScrollDirection=t}},{key:"setCarouselSize",value:function(t,e){var r;null===(r=this.mask)||void 0===r||r.clear().beginFill(16711680,.8).drawRect(-t/2+80,-e/2,t-160,e).endFill()}},{key:"tick",value:function(t){this._autoScrollPaused||this.updateCarousel(t)}},{key:"clampPivotX",value:function(){this.pivotX<0&&(this.pivotX=0),this.pivotX>6258&&(this.pivotX=6258)}},{key:"clampPivotY",value:function(){this.pivotY<6&&(this.pivotY=6),this.pivotY>4688&&(this.pivotY=4688)}},{key:"updateCarousel",value:function(t){t>50&&(t=50),this._autoScrollSpeedMultiplier>.1?this._autoScrollSpeedMultiplier*=.97:this._autoScrollSpeedMultiplier<=.1&&(this._autoScrollSpeedMultiplier=0);var e=t*(this._autoScrollSpeedMultiplier*this._baseAutoScrollSpeed*this._autoScrollDirection),r=this.modifiedPivot;this.modifiedPivot+=e,this.clampPivotX(),this.clampPivotY(),r<this.getMinPivot()&&this.modifiedPivot>=this.getMinPivot()&&(this._autoScrollSpeedMultiplier=0),this.modifiedPivot<this.getMinPivot()&&this.modifiedPivot>=this.getMinPivot()-nt?(this._autoScrollSpeedMultiplier=2*(this.getMinPivot()-this.modifiedPivot)/50,this._autoScrollDirection=1):this.modifiedPivot<=this.getMaxPivot()+nt&&this.modifiedPivot>this.getMaxPivot()&&(this._autoScrollSpeedMultiplier=2*(this.modifiedPivot-this.getMaxPivot())/50,this._autoScrollDirection=-1)}}])}(X.W2);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function lt(){lt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",y="completed",d={};function v(){}function b(){}function g(){}var m={};s(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,a)&&(m=x);var S=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==st(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(st(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function ft(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return ht(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function pt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function yt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){pt(i,n,o,a,c,"next",t)}function c(t){pt(i,n,o,a,c,"throw",t)}a(void 0)}))}}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kt(n.key),n)}}function bt(t,e,r){return e=St(e),function(t,e){if(e&&("object"==st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gt()?Reflect.construct(e,r||[],St(t).constructor):e.apply(t,r))}function gt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gt=function(){return!!t})()}function mt(t,e,r,n){var o=wt(St(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function wt(){return wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=xt(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},wt.apply(null,arguments)}function xt(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=St(t)););return t}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function Ot(t,e){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ot(t,e)}function Pt(t,e,r){return(e=kt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kt(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}var jt=function(t){function e(){var t;dt(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Pt(t=bt(this,e,[].concat(n)),"entries",[]),Pt(t,"carouselContainer",new ut),Pt(t,"_lastDragPointX",0),Pt(t,"_lastDragPointY",0),Pt(t,"_initDownPointX",0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}(e,t),function(t,e,r){return e&&vt(t.prototype,e),r&&vt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"init",value:(n=yt(lt().mark((function t(){var r,n,a,c,u,s,l,f,h=this;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt(e,"init",this,3)([]);case 2:this.root=(0,i.q0)(this,"root"),this.interactive=!0,this.on("pointerdown",this.handlePointerDown,this).on("pointermove",this.handlePointerMove,this).on("pointerup",this.handlePointerUp,this).on("pointerupoutside",this.handlePointerUp,this),this.baseContainer=this.root.addChild(new X.W2),this.baseContainer.addChild(this.carouselContainer),this.carouselContainer.mask=this.baseContainer.addChild(new X.TC),r=0;case 9:if(!(r<H.batsPrices.length)){t.next=22;break}return n=H.batsPrices[r],a=n.type,c=n.price,t.next=13,o.Z.createComponent("BatsPurchaseEntry");case 13:u=t.sent,this.entries.push(u),this.carouselContainer.addChild(u),u.setBatType(a,c),u.on("select",(function(){h.interactiveChildren=!1,new U.Z(500).once("finish",(function(){h.emit("close")})).start()})),u.on("failedPurchase",(function(){h.playFailedPurchaseText()}));case 19:r++,t.next=9;break;case 22:s=ft((0,i.q)(this,"closeButton"));try{for(s.s();!(l=s.n()).done;)(f=l.value).buttonMode=!0,this.disposeBag.push(f.onOff("pointerup",(function(){h.emit("close"),O.Z.replaySingle("button_press3",!1,.5)})))}catch(t){s.e(t)}finally{s.f()}this.horizontalLayoutContainer=(0,i.q0)(this,"horizontalLayoutContainer"),this.verticalLayoutContainer=(0,i.q0)(this,"verticalLayoutContainer"),this.disposeBag.push(Y.Z.onOff("resize",this.onResize,this));case 27:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"handlePointerDown",value:function(t){var e=t.data;this._dragActive=!0,this._lastDragPointX=e.global.x,this._initDownPointX=e.global.x,this._lastDragPointY=e.global.y,this._initDownPointY=e.global.y,this._initDownTimestamp=Date.now(),this.carouselContainer.setAutoScrollSpeedMultiplier(1),this.carouselContainer.pauseAutoScroll()}},{key:"handlePointerMove",value:function(t){var e=t.data;if("horizontal"===this.carouselContainer.mode&&this._dragActive&&this._lastDragPointX!==e.global.x){var r=this._lastDragPointX-e.global.x,n=X.P6.sign(r);this.carouselContainer.pivotX+=r,this.carouselContainer.setAutoScrollSpeedMultiplier(Math.abs(r)),this.carouselContainer.setAutoScrollDirection(n),this.carouselContainer.clampPivotX(),this._lastDragPointX=e.global.x}if("vertical"===this.carouselContainer.mode&&this._dragActive&&this._lastDragPointY!==e.global.y){var o=this._lastDragPointY-e.global.y,i=X.P6.sign(o);this.carouselContainer.pivotY+=o,this.carouselContainer.setAutoScrollSpeedMultiplier(Math.abs(o)),this.carouselContainer.setAutoScrollDirection(i),this.carouselContainer.clampPivotY(),this._lastDragPointY=e.global.y}}},{key:"handlePointerUp",value:function(t){var e=t.data;this._initDownTimestamp&&Date.now()-this._initDownTimestamp<500&&Math.abs(this._initDownPointX-e.global.x)<10||this.carouselContainer.resumeAutoScroll(),this._dragActive=!1,this._initDownPointX=0,this._initDownTimestamp=null}},{key:"playFailedPurchaseText",value:(r=yt(lt().mark((function t(){var e;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new X.xv("Not enough gems…",{fontFamily:"Montserrat-Bold",fontSize:24,fill:"#e43feb",align:"center"})).anchor.set(.5),e.y=50,(0,i.q0)(this,"failedPurchaseContainer").addChild(e),t.next=6,this.disposeBag.pushPipe(new a.kX(e).to({y:0},500).easing(a.oY.Back.Out).start());case 6:return t.next=8,this.disposeBag.pushPipe(new a.kX(e).delay(1e3).to({alpha:0,y:-100},1e3).start());case 8:e.destroy({children:!0});case 9:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"onResize",value:function(){this.entries.forEach((function(t){(0,i.q0)(t,"upgradeIcon").scale.set(1.15)})),Y.Z.isLandscape()?(this.baseContainer.position.y=0,this.carouselContainer.mode="horizontal",this.carouselContainer.resetScroll(),this.carouselContainer.setCarouselSize(1138,1e3),this.entries.forEach((function(t,e){t.position.set(280*e-92,32)})),this.horizontalLayoutContainer.visible=!0,this.verticalLayoutContainer.visible=!1):(this.baseContainer.position.y=34,this.carouselContainer.mode="vertical",this.carouselContainer.resetScroll(),this.carouselContainer.setCarouselSize(738,880),this.entries.forEach((function(t,e){t.position.set(280*(e%2-.5)+266,32+420*Math.floor(e/2))})),this.horizontalLayoutContainer.visible=!1,this.verticalLayoutContainer.visible=!0)}}]);var r,n}(o.Z.Component),_t=r(159),Et=r(765);function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function Tt(t){return function(t){if(Array.isArray(t))return Ct(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ct(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ct(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function At(){At=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",y="completed",d={};function v(){}function b(){}function g(){}var m={};s(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,a)&&(m=x);var S=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Lt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Lt(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function Ft(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Bt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ft(i,n,o,a,c,"next",t)}function c(t){Ft(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,It(n.key),n)}}function It(t){var e=function(t,e){if("object"!=Lt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lt(e)?e:e+""}function Rt(t,e,r){return e=zt(e),function(t,e){if(e&&("object"==Lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Nt()?Reflect.construct(e,r||[],zt(t).constructor):e.apply(t,r))}function Nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nt=function(){return!!t})()}function Gt(t,e,r,n){var o=qt(zt(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function qt(){return qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Zt(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},qt.apply(null,arguments)}function Zt(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=zt(t)););return t}function zt(t){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zt(t)}function Wt(t,e){return Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wt(t,e)}var Xt=function(t){function e(){return Dt(this,e),Rt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wt(t,e)}(e,t),function(t,e,r){return e&&Mt(t.prototype,e),r&&Mt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"checkpoints",get:function(){var t;return null!==(t=this._checkpoints)&&void 0!==t?t:(0,i.D7)("checkpoints")}},{key:"init",value:(c=Bt(At().mark((function t(){var r=this;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([Gt(e,"init",this,3)([]),Bt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.createComponent("BigBoardMap");case 2:r.map=t.sent;case 3:case"end":return t.stop()}}),t)})))(),Bt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.createComponent("BigBoardLeaguesCups");case 2:r.cups=t.sent;case 3:case"end":return t.stop()}}),t)})))()]);case 2:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"onCreate",value:function(){this.root=(0,i.q0)(this,"root"),this.spine=(0,i.q0)(this,"spine"),this.spine.visible=!1,this.spine.state.clearTracks(),this.content=new X.W2;var t=this.content.addChild(new X.W2),e=this.content.addChild(new X.W2);e.position.set(0,-250);var r=this.content.addChild((new X.TC).beginFill(0,.2).drawRoundedRect(-100,-100,200,200,5).endFill());r.width=1440,r.height=625,r.position.x=-13,t.mask=r,this.spine.attachChildToBone("board",this.content,{x:50,y:0},Math.PI/2),t.addChild(this.map),this._checkpoints=Tt((0,i.q0)(this.map,"checkpoints").children),(0,i.q0)(this.map,"checkpoints").children.reverse(),e.addChild(this.cups)}},{key:"playSpineAnimation",value:function(){var t=this.spine.getAnimations();this.spine.state.setAnimation(0,t[0],!1),this.spine.update(0),this.spine.visible=!0}},{key:"setFillForDistance",value:function(t,e){for(var r=_t.ge,n=0;n<r.length;n++){var o,a,c=this.checkpoints[n],u=null!==(o=null===(a=r[n-1])||void 0===a?void 0:a.distanceForReach)&&void 0!==o?o:0,s=r[n].distanceForReach,l=(0,Et.Ny)(u,s,t);c.setProgress((0,Et.V2)(l)),l>=1&&!e&&(c.setFilled(),(0,i.q0)(this.cups,r[n].leagueKey).setFilled())}if(!e){var f=this.getLeagueIndexForDistance(t),h=this.checkpoints[f+1];h&&h.showRewardAndCup(),this.checkpoints[0].setFilled();for(var p=0;p<r.length;p++){var y=this.checkpoints[p+1];t>=r[p].distanceForReach&&(y.setFilled(),(0,i.q0)(this.cups,r[p].leagueKey).setFilled())}}}},{key:"getLeagueIndexForDistance",value:function(t){for(var e=_t.ge,r=0;r<e.length;r++)if(t<=e[r].distanceForReach)return r;return e.length}},{key:"playPutFlagAtDistance",value:function(t){var e,r,n=this.getLeagueIndexForDistance(t);if(n===_t.ge.length){var o=this.checkpoints[n-1];return o.playSetCompleted(),(0,i.q0)(this.cups,_t.ge[n-1].leagueKey).playSetCompleted(),o.setProgress(1),void o.playSetDistanceFlag(1,t)}var a=this.checkpoints;(0,i.hu)(a);var c=a[n],u=_t.ge,s=null!==(e=null===(r=u[n-1])||void 0===r?void 0:r.distanceForReach)&&void 0!==e?e:0,l=u[n].distanceForReach,f=Math.min((0,Et.Ny)(s,l,t),1);c.playSetDistanceFlag(f,t)}},{key:"playSetCompleted",value:function(t){var e=t.completedLeagueIndex;this.checkpoints[e+1].playSetCompleted().then((function(){var t=_t.ge[e].leagueGemsReward;V.Z.meta.gems.value+=t}));var r=this.checkpoints[e+2];r&&r.showRewardAndCup(),(0,i.q0)(this.cups,_t.ge[e].leagueKey).playSetCompleted()}},{key:"show",value:(n=Bt(At().mark((function t(e){var r,n,o,i=this;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.maxDistance,n=e.currentDistance,this.playSpineAnimation(),this.setFillForDistance(r,!1),V.Z.meta.isMapIntroShown.value){t.next=10;break}return V.Z.meta.isMapIntroShown.value=!0,this.map.x=2590,t.next=8,new a.kX({distance:2590}).to({distance:0},3500).onUpdate((function(t){var e=t.distance;i.map.x=e})).delay(500).start();case 8:t.next=11;break;case 10:this.scrollMapTo(r);case 11:return t.next=13,new a.kX({t:0}).to({t:1},1e3).start();case 13:if(!(n>r)){t.next=19;break}return o=this.getLeagueIndexForDistance(r),t.next=17,new a.kX({distance:r}).to({distance:n},1500).onUpdate((function(t){var e=t.distance;i.setFillForDistance(e,!0),i.scrollMapTo(e);var r=i.getLeagueIndexForDistance(e);r!==o&&i.playSetCompleted({completedLeagueIndex:o}),o=r})).easing(a.oY.Sinusoidal.InOut).start();case 17:t.next=21;break;case 19:return t.next=21,new a.kX({distance:r}).to({distance:n},400).onUpdate((function(t){var e=t.distance;i.scrollMapTo(e)})).easing(a.oY.Sinusoidal.InOut).start();case 21:this.playPutFlagAtDistance(n);case 22:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"scrollMapTo",value:(r=Bt(At().mark((function t(e){var r,n,o,i,a,c,u,s,l,f,h;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.getLeagueIndexForDistance(e),c=this.checkpoints[a],u=_t.ge,s=null!==(r=null===(n=u[a-1])||void 0===n?void 0:n.distanceForReach)&&void 0!==r?r:0,l=null!==(o=null===(i=u[a])||void 0===i?void 0:i.distanceForReach)&&void 0!==o?o:u[u.length-1].distanceForReach,a!==u.length){t.next=8;break}return this.map.x=2590,t.abrupt("return");case 8:f=c.getPointForProgress((0,Et.Ny)(s,l,e)),h=this.map.toLocal(f,c),this.map.x=-(0,Et.uZ)(h.x,-2590,0);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}]);var r,n,c}(o.Z.Component);function Yt(t){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(t)}function Ut(){Ut=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",y="completed",d={};function v(){}function b(){}function g(){}var m={};s(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,a)&&(m=x);var S=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Yt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Yt(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function Ht(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Vt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ht(i,n,o,a,c,"next",t)}function c(t){Ht(i,n,o,a,c,"throw",t)}a(void 0)}))}}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jt(n.key),n)}}function Jt(t){var e=function(t,e){if("object"!=Yt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yt(e)?e:e+""}function Qt(t,e,r){return e=ee(e),function(t,e){if(e&&("object"==Yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,te()?Reflect.construct(e,r||[],ee(t).constructor):e.apply(t,r))}function te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(te=function(){return!!t})()}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ee(t)}function re(t,e){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},re(t,e)}var ne,oe,ie,ae=function(t){function e(){return $t(this,e),Qt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&re(t,e)}(e,t),function(t,e,r){return e&&Kt(t.prototype,e),r&&Kt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"onCreate",value:function(){var t=this;this.point=this.query("point"),this.point.visible="start"===this.config.tag,this.road=this.query("road"),this.road&&"rubin_key"!==this.config.tag&&(this.maxWidth=this.road.width,this.road.width=0),"start"!==this.config.tag&&(this.rewardValue=_t.ge.find((function(e){return e.leagueKey===t.config.tag})).leagueGemsReward,this.reward=this.query("reward"),this.reward.query("Text").text=this.rewardValue.toString(),this.reward.visible=!1,this.cup=this.query("cup"),this.cup.visible=!1),o.Z.createComponent("effects/FxBigBoardShine").then((function(e){t.effect=t.addChild(e)}))}},{key:"showRewardAndCup",value:function(){this.cup.visible=!0,this.reward.visible=!0,this.cup.scale.set(0,0),this.reward.scale.set(0,0),new a.kX(this.cup.scale).to({x:1,y:1},200).easing(a.oY.Back.Out).start(),new a.kX(this.reward.scale).to({x:1,y:1},200).easing(a.oY.Back.Out).start()}},{key:"playSetCompleted",value:(u=Vt(Ut().mark((function t(){return Ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isFilled){t.next=2;break}return t.abrupt("return");case 2:return this.isCompleted=!0,this.cup.visible=!1,this.reward.visible=!1,this.point.visible=!0,this.point.scale.set(0,0),this.effect.createAnimation("startShine",!1,!0),t.next=10,new a.kX(this.point.scale).to({x:1.2,y:1.2},200).easing(a.oY.Back.Out).start();case 10:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setFilled",value:function(){this.isFilled=!0,this.point.visible=!0}},{key:"getPointForProgress",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return e.x=-(0,Et.t7)(0,this.maxWidth,t)-20,e.y=0,e}},{key:"playSetDistanceFlag",value:(c=Vt(Ut().mark((function t(e,r){var n=this;return Ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.Z.createComponent("DistanceFlag").then((function(t){n.distanceFlag=t,n.addChild(n.distanceFlag),n.getPointForProgress(e,n.distanceFlag.position),(0,i.q0)(n.distanceFlag,"text").text=Math.floor(r).toString()+" ft",n.distanceFlag.visible=!1,n.distanceFlag.rotation=-n.rotation})),t.next=3,new a.kX({t:0}).to({t:1},500).start();case 3:this.showDistanceFlag();case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"showDistanceFlag",value:function(){this.distanceFlag.visible=!0,(0,i.q0)(this.distanceFlag,"spine").state.setAnimation(0,"bounce",!1),O.Z.playSingle("bigboard/flag")}},{key:"setProgress",value:(n=Vt(Ut().mark((function t(e){return Ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.road&&(this.road.width=this.maxWidth*e,this.road.pivot.x=this.road.width);case 1:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"playSetProgress",value:(r=Vt(Ut().mark((function t(e){var r=this;return Ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O.Z.replaySingle("bigboard/gui_road",!1,.5),t.next=3,new a.kX(this.road).to({width:this.maxWidth*e},400).onUpdate((function(){r.road.pivot.x=r.road.width})).start();case 3:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}]);var r,n,c,u}(o.Z.Container);function ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ge(n.key),n)}}function fe(t,e,r){return e=pe(e),function(t,e){if(e&&("object"==ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,he()?Reflect.construct(e,r||[],pe(t).constructor):e.apply(t,r))}function he(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(he=function(){return!!t})()}function pe(t){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pe(t)}function ye(t,e){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ye(t,e)}function de(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function ve(t,e,r){return(e=ge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function be(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function ge(t){var e=function(t,e){if("object"!=ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ue(e)?e:e+""}function me(t,e,r){"symbol"==ue(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function we(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?ue(t):"null"));return t}var xe=new WeakMap,Se=function(t){function e(){var t;se(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return de(t=fe(this,e,[].concat(n)),xe,oe(t,"unavailableForPurchase")),ve(t,"knownTouches",(ie(t),{})),ve(t,"isClickCancelled",!1),ve(t,"cancelClickOnDrag",10),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ye(t,e)}(e,t),function(t,e,r){return e&&le(t.prototype,e),r&&le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"state",get:function(){return function(t,e){return t.get(be(t,e))}(xe,this)},set:function(t){!function(t,e,r){t.set(be(t,e),r)}(xe,this,t)}},{key:"onCreate",value:function(){var t=this;this.root=(0,i.q0)(this,"root"),this.shopIcon=(0,i.q0)(this.root,"shopIcon"),this.clickSound=this.config.props.clickSound,this.content=(0,i.q0)(this.root,"content"),this.priceLabel=(0,i.q0)(this.root,"priceLabel"),this.gem=(0,i.q0)(this.root,"gem"),this.selectedContainer=(0,i.q0)(this.root,"selected"),this.purchasedContainer=(0,i.q0)(this.root,"purchased"),this.availableForPurchaseContainer=(0,i.q0)(this.root,"availableForPurchase"),this.isDown=!1,this.isChecked=!1,this.isHovered=!1,this.isClickCancelled=!1,this.interactive=!0,this.buttonMode=!0,this.on("click",this.onClick,this),this.on("tap",this.onClick,this),this.on("pointerdown",this.onPointerDown,this),this.on("pointerup",this.onPointerUp,this),this.on("pointerupoutside",this.onPointerUp,this),this.on("pointermove",this.onPointerMove,this),this.on("pointercancel",this.onPointerUp,this),this.on("pointerover",this.onPointerOver,this),this.on("pointerout",this.onPointerout,this),(0,n.EH)((function(){t.selectedContainer.visible="selected"===t.state,t.purchasedContainer.visible="purchased"===t.state,t.availableForPurchaseContainer.visible="availableForPurchase"===t.state||"unavailableForPurchase"===t.state})),this.disposeBag.push(Y.Z.onOff("resize",this.onResize,this))}},{key:"onClick",value:function(){this.isClickCancelled||("unavailableForPurchase"!==this.state?(this.clickSound&&O.Z.replaySingle(this.clickSound),"availableForPurchase"===this.state?this.emit("button:clickPurchase"):this.emit("button:clickSelect")):this.emit("button:disabledClick"))}},{key:"onPointerDown",value:function(t){this.isDown=!0,this.knownTouches[t.data.identifier]={x:t.data.global.x,y:t.data.global.y},this.isClickCancelled=!1,new m(this.root.scale).to({x:.9,y:.9},100).start(),this.emit("button:down")}},{key:"onPointerMove",value:function(t){var e=this.knownTouches[t.data.identifier];if(e){var r=this.cancelClickOnDrag;if(void 0!==r){var n=e.x-t.data.global.x,o=e.y-t.data.global.y,i=Math.sqrt(n*n+o*o);("object"===ue(r)&&(Math.abs(n)>=r.x||Math.abs(o)>=r.y)||"number"==typeof r&&i>=r||"boolean"==typeof r&&r&&i>=20)&&(this.isClickCancelled=!0,this.onPointerUp(t))}}}},{key:"onPointerUp",value:function(t){this.isDown=!1,delete this.knownTouches[t.data.identifier],new m(this.root.scale).to({x:1,y:1},100).start(),this.emit("button:up")}},{key:"onPointerOver",value:function(){this.isHovered=!0}},{key:"setState",value:function(t){this.state=t}},{key:"onPointerout",value:function(t){this.isHovered=!1,this.onPointerMove(t)}},{key:"setPrice",value:function(t){this.priceLabel.text=t}},{key:"onResize",value:function(){this.root&&(this.priceLabel.position.x=30,this.gem.position.x=this.priceLabel.position.x-this.priceLabel.width/2-36)}}])}(ne=o.Z.Component),Oe=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ce(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(t,e,r,n,o,i){var a,c,u,s,l,f,h,p=Symbol.metadata||Symbol.for("Symbol.metadata"),y=Object.defineProperty,d=Object.create,v=[d(null),d(null)],b=e.length;function g(e,r,n){return function(o,i){r&&(i=o,o=t);for(var a=0;a<e.length;a++)i=e[a].apply(o,n?[i]:[]);return n?i:o}}function m(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function w(t,e,r,n,o,i,u,s,l,f,h){function p(t){if(!h(t))throw new TypeError("Attempted to access private element on non-instance")}var d=[].concat(e[0]),b=e[3],w=!u,x=1===o,S=3===o,O=4===o,P=2===o;function k(e,r,n){return function(o,i){return r&&(i=o,o=t),n&&n(o),j[e].call(o,i)}}if(!w){var j={},_=[],E=S?"get":O||x?"set":"value";if(l?(f||x?j={get:me((function(){return b(this)}),n,"get"),set:function(t){e[4](this,t)}}:j[E]=b,f||me(j[E],n,P?"":E)):f||(j=Object.getOwnPropertyDescriptor(t,n)),!f&&!l){if((c=v[+s][n])&&7!=(c^o))throw Error("Decorating two elements with the same name ("+j[E].name+") is not supported yet");v[+s][n]=o<3?1:o}}for(var L=t,T=d.length-1;T>=0;T-=r?2:1){var C=m(d[T],"A decorator","be",!0),A=r?d[T-1]:void 0,F={},B={kind:["field","accessor","method","getter","setter","class"][o],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");m(e,"An initializer","be",!0),i.push(e)}.bind(null,F)};if(w)c=C.call(A,L,B),F.v=1,m(c,"class decorators","return")&&(L=c);else if(B.static=s,B.private=l,c=B.access={has:l?h.bind():function(t){return n in t}},O||(c.get=l?P?function(t){return p(t),j.value}:k("get",0,p):function(t){return t[n]}),P||S||(c.set=l?k("set",0,p):function(t,e){t[n]=e}),L=C.call(A,x?{get:j.get,set:j.set}:j[E],B),F.v=1,x){if("object"==ue(L)&&L)(c=m(L.get,"accessor.get"))&&(j.get=c),(c=m(L.set,"accessor.set"))&&(j.set=c),(c=m(L.init,"accessor.init"))&&_.unshift(c);else if(void 0!==L)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else m(L,(f?"field":"method")+" decorators","return")&&(f?_.unshift(L):j[E]=L)}return o<2&&u.push(g(_,s,1),g(i,s,0)),f||w||(l?x?u.splice(-1,0,k("get",s),k("set",s)):u.push(P?j[E]:m.call.bind(j[E])):y(t,n,j)),L}function x(t){return y(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==i&&(a=i[p]),a=d(null==a?null:a),l=[],f=function(t){t&&l.push(g(t))},h=function(e,n){for(var i=0;i<r.length;i++){var a=r[i],c=a[1],f=7&c;if((8&c)==e&&!f==n){var h=a[2],p=!!a[3],y=16&c;w(e?t:t.prototype,a,y,p?"#"+h:ge(h),f,f<2?[]:e?s=s||[]:u=u||[],l,!!e,p,n,e&&p?function(e){return we(e)===t}:o)}}},h(8,0),h(0,0),h(8,1),h(0,1),f(u),f(s),c=l,b||x(t),{e:c,get c(){var r=[];return b&&[x(t=w(t,[e],n,t.name,5,r)),g(r,1)]}}}(Se,[],[[n.LO,1,"state"]],0,void 0,ne).e,2);oe=Oe[0],ie=Oe[1],ve(Se,"defaultProps",{clickSound:{type:"string",value:""}});var Pe=["pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","mouseover","mouseenter","mousedown","mousemove","mouseup","mousecancel","mouseout","mouseleave","touchover","touchenter","touchdown","touchmove","touchup","touchcancel","touchout","touchleave"],ke={bbcode:["[","]"],xml:["<",">"]},je=function(t){function e(e,r){var n=this;t.call(this,e),this.styles=r,Pe.forEach((function(t){n.on(t,(function(t){return n.handleInteraction(t)}))}))}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var r={styles:{configurable:!0}};return e.prototype.handleInteraction=function(t){var e=t,r=t.data.getLocalPosition(this),n=this.hitboxes.reduce((function(t,e){return void 0!==t?t:e.hitbox.contains(r.x,r.y)?e:void 0}),void 0);e.targetTag=void 0===n?void 0:n.tag},r.styles.set=function(t){for(var r in this.textStyles={},this.textStyles.default=this.assign({},e.DEFAULT_TAG_STYLE),t)"default"===r?this.assign(this.textStyles.default,t[r]):this.textStyles[r]=this.assign({},t[r]);"bbcode"===this.textStyles.default.tagStyle&&(this.textStyles.b=this.assign({},{fontStyle:"bold"}),this.textStyles.i=this.assign({},{fontStyle:"italic"}),this.textStyles.color=this.assign({},{fill:""}),this.textStyles.outline=this.assign({},{stroke:"",strokeThickness:6}),this.textStyles.font=this.assign({},{fontFamily:""}),this.textStyles.shadow=this.assign({},{dropShadowColor:"",dropShadow:!0,dropShadowBlur:3,dropShadowDistance:3,dropShadowAngle:2}),this.textStyles.size=this.assign({},{fontSize:"px"}),this.textStyles.spacing=this.assign({},{letterSpacing:""}),this.textStyles.align=this.assign({},{align:""})),this.withPrivateMembers()._style=new X.pn(this.textStyles.default),this.withPrivateMembers().dirty=!0},e.prototype.setTagStyle=function(t,e){t in this.textStyles?this.assign(this.textStyles[t],e):this.textStyles[t]=this.assign({},e),this.withPrivateMembers()._style=new X.pn(this.textStyles.default),this.withPrivateMembers().dirty=!0},e.prototype.deleteTagStyle=function(t){"default"===t?this.textStyles.default=this.assign({},e.DEFAULT_TAG_STYLE):delete this.textStyles[t],this.withPrivateMembers()._style=new X.pn(this.textStyles.default),this.withPrivateMembers().dirty=!0},e.prototype.getTagRegex=function(t,e){var r=Object.keys(this.textStyles).join("|");r=t?"("+r+")":"(?:"+r+")";var n="bbcode"===this.textStyles.default.tagStyle?"\\"+ke.bbcode[0]+r+"(?:\\=(?:[A-Za-z0-9_\\-\\#]+|'(?:[^']+|\\\\')*'))*\\s*\\"+ke.bbcode[1]+"|\\"+ke.bbcode[0]+"\\/"+r+"\\s*\\"+ke.bbcode[1]:"\\"+ke.xml[0]+r+"(?:\\s+[A-Za-z0-9_\\-]+=(?:\"(?:[^\"]+|\\\\\")*\"|'(?:[^']+|\\\\')*'))*\\s*\\"+ke.xml[1]+"|\\"+ke.xml[0]+"\\/"+r+"\\s*\\"+ke.xml[1];return e&&(n="("+n+")"),new RegExp(n,"g")},e.prototype.getPropertyRegex=function(){return new RegExp("([A-Za-z0-9_\\-]+)=(?:\"((?:[^\"]+|\\\\\")*)\"|'((?:[^']+|\\\\')*)')","g")},e.prototype.getBBcodePropertyRegex=function(){return new RegExp("[A-Za-z0-9_\\-]+=([A-Za-z0-9_\\-\\#]+)","g")},e.prototype._getTextDataPerLine=function(t){for(var e=[],r=this.getTagRegex(!0,!1),n=[this.assign({},this.textStyles.default)],o=[{name:"default",properties:{}}],i=0;i<t.length;i++){for(var a=[],c=[],u=void 0;u=r.exec(t[i]);)c.push(u);if(0===c.length)a.push(this.createTextData(t[i],n[n.length-1],o[o.length-1]));else{for(var s=0,l=0;l<c.length;l++){if(c[l].index>s&&a.push(this.createTextData(t[i].substring(s,c[l].index),n[n.length-1],o[o.length-1])),"/"===c[l][0][1])n.length>1&&(n.pop(),o.pop());else{for(var f={},h=this.getPropertyRegex(),p=void 0;p=h.exec(c[l][0]);)f[p[1]]=p[2]||p[3];if(o.push({name:c[l][1],properties:f}),"bbcode"===this.textStyles.default.tagStyle&&c[l][0].includes("=")&&this.textStyles[c[l][1]]){var y=this.getBBcodePropertyRegex().exec(c[l][0]),d={};Object.entries(this.textStyles[c[l][1]]).forEach((function(t){d[t[0]]="string"!=typeof t[1]?t[1]:y[1]+t[1]})),n.push(this.assign({},n[n.length-1],d))}else n.push(this.assign({},n[n.length-1],this.textStyles[c[l][1]]))}s=c[l].index+c[l][0].length}if(s<t[i].length){var v=this.createTextData(s?t[i].substring(s):t[i],n[n.length-1],o[o.length-1]);a.push(v)}}e.push(a)}var b=this.textStyles.default.tagStyle;return e[e.length-1].map((function(t){t.text.includes(ke[b][0])&&(t.text=t.text.match("bbcode"===b?/^(.*)\[/:/^(.*)\</)[1])})),e},e.prototype.getFontString=function(t){return new X.pn(t).toFontString()},e.prototype.createTextData=function(t,e,r){return{text:t,style:e,width:0,height:0,fontProperties:void 0,tag:r}},e.prototype.getDropShadowPadding=function(){var t=this,e=0,r=0;return Object.keys(this.textStyles).forEach((function(n){var o=t.textStyles[n],i=o.dropShadowBlur;e=Math.max(e,o.dropShadowDistance||0),r=Math.max(r,i||0)})),e+r},e.prototype.withPrivateMembers=function(){return this},e.prototype.updateText=function(){var t=this;if(this.withPrivateMembers().dirty){this.hitboxes=[],this.texture.baseTexture.resolution=this.resolution;var r=this.textStyles,n=this.text;this.withPrivateMembers()._style.wordWrap&&(n=this.wordWrap(this.text));for(var o=n.split(/(?:\r\n|\r|\n)/),i=this._getTextDataPerLine(o),a=[],c=[],u=[],s=0,l=0;l<o.length;l++){for(var f=0,h=0,p=0,y=0;y<i[l].length;y++){var d=i[l][y].style;this.context.font=this.getFontString(d),i[l][y].width=this.context.measureText(i[l][y].text).width,0!==i[l][y].text.length&&(i[l][y].width+=(i[l][y].text.length-1)*d.letterSpacing,y>0&&(f+=d.letterSpacing/2),y<i[l].length-1&&(f+=d.letterSpacing/2)),f+=i[l][y].width,i[l][y].fontProperties=X._A.measureFont(this.context.font),i[l][y].height=i[l][y].fontProperties.fontSize,"number"==typeof d.valign?(h=Math.min(h,d.valign-i[l][y].fontProperties.descent),p=Math.max(p,d.valign+i[l][y].fontProperties.ascent)):(h=Math.min(h,-i[l][y].fontProperties.descent),p=Math.max(p,i[l][y].fontProperties.ascent))}a[l]=f,c[l]=h,u[l]=p,s=Math.max(s,f)}var v=Object.keys(r).map((function(t){return r[t]})).reduce((function(t,e){return Math.max(t,e.strokeThickness||0)}),0),b=this.getDropShadowPadding(),g=s+2*v+2*b,m=u.reduce((function(t,e){return t+e}),0)-c.reduce((function(t,e){return t+e}),0)+2*v+2*b;this.canvas.width=g*this.resolution,this.canvas.height=m*this.resolution,this.context.scale(this.resolution,this.resolution),this.context.textBaseline="alphabetic",this.context.lineJoin="round";for(var w=b+v,x=[],S=0;S<i.length;S++){var O=i[S],P=void 0;switch(this.withPrivateMembers()._style.align){case"left":P=b+v;break;case"center":P=b+v+(s-a[S])/2;break;case"right":P=b+v+s-a[S]}for(var k=0;k<O.length;k++){var j=O[k],_=j.style,E=j.text,L=j.fontProperties,T=j.width,C=j.tag,A=w+L.ascent;switch(_.valign){case"top":break;case"baseline":A+=u[S]-L.ascent;break;case"middle":A+=(u[S]-c[S]-L.ascent-L.descent)/2;break;case"bottom":A+=u[S]-c[S]-L.ascent-L.descent;break;default:A+=u[S]-L.ascent-_.valign}if(0===_.letterSpacing)x.push({text:E,style:_,x:P,y:A,width:T,ascent:L.ascent,descent:L.descent,tag:C}),P+=O[k].width;else{this.context.font=this.getFontString(O[k].style);for(var F=0;F<E.length;F++){(F>0||k>0)&&(P+=_.letterSpacing/2);var B=this.context.measureText(E.charAt(F)).width;x.push({text:E.charAt(F),style:_,x:P,y:A,width:B,ascent:L.ascent,descent:L.descent,tag:C}),P+=B,(F<E.length-1||k<O.length-1)&&(P+=_.letterSpacing/2)}}}w+=u[S]-c[S]}this.context.save(),x.forEach((function(e){var r=e.style,n=e.text,o=e.x,i=e.y;if(r.dropShadow){t.context.font=t.getFontString(r);var a=r.dropShadowColor;"number"==typeof a&&(a=X.P6.hex2string(a)),t.context.shadowColor=a,t.context.shadowBlur=r.dropShadowBlur,t.context.shadowOffsetX=Math.cos(r.dropShadowAngle)*r.dropShadowDistance*t.resolution,t.context.shadowOffsetY=Math.sin(r.dropShadowAngle)*r.dropShadowDistance*t.resolution,t.context.fillText(n,o,i)}})),this.context.restore(),x.forEach((function(e){var r=e.style,n=e.text,o=e.x,i=e.y;if(void 0!==r.stroke&&r.strokeThickness){t.context.font=t.getFontString(r);var a=r.stroke;"number"==typeof a&&(a=X.P6.hex2string(a)),t.context.strokeStyle=a,t.context.lineWidth=r.strokeThickness,t.context.strokeText(n,o,i)}})),x.forEach((function(e){var r=e.style,n=e.text,o=e.x,i=e.y;if(void 0!==r.fill){t.context.font=t.getFontString(r);var a=r.fill;if("number"==typeof a)a=X.P6.hex2string(a);else if(Array.isArray(a))for(var c=0;c<a.length;c++){var u=a[c];"number"==typeof u&&(a[c]=X.P6.hex2string(u))}t.context.fillStyle=t._generateFillStyle(new X.pn(r),[n]),t.context.fillText(n,o,i)}})),x.forEach((function(r){var n=r.style,o=r.x,i=r.y,a=r.width,c=r.ascent,u=r.descent,s=r.tag,l=-t.withPrivateMembers()._style.padding-t.getDropShadowPadding();t.hitboxes.push({tag:s,hitbox:new X.Ae(o+l,i-c+l,a,c+u)}),(void 0===n.debug?e.debugOptions.spans.enabled:n.debug)&&(t.context.lineWidth=1,e.debugOptions.spans.bounding&&(t.context.fillStyle=e.debugOptions.spans.bounding,t.context.strokeStyle=e.debugOptions.spans.bounding,t.context.beginPath(),t.context.rect(o,i-c,a,c+u),t.context.fill(),t.context.stroke(),t.context.stroke()),e.debugOptions.spans.baseline&&(t.context.strokeStyle=e.debugOptions.spans.baseline,t.context.beginPath(),t.context.moveTo(o,i),t.context.lineTo(o+a,i),t.context.closePath(),t.context.stroke()),e.debugOptions.spans.top&&(t.context.strokeStyle=e.debugOptions.spans.top,t.context.beginPath(),t.context.moveTo(o,i-c),t.context.lineTo(o+a,i-c),t.context.closePath(),t.context.stroke()),e.debugOptions.spans.bottom&&(t.context.strokeStyle=e.debugOptions.spans.bottom,t.context.beginPath(),t.context.moveTo(o,i+u),t.context.lineTo(o+a,i+u),t.context.closePath(),t.context.stroke()),e.debugOptions.spans.text&&(t.context.fillStyle="#ffffff",t.context.strokeStyle="#000000",t.context.lineWidth=2,t.context.font="8px monospace",t.context.strokeText(s.name,o,i-c+8),t.context.fillText(s.name,o,i-c+8),t.context.strokeText(a.toFixed(2)+"x"+(c+u).toFixed(2),o,i-c+16),t.context.fillText(a.toFixed(2)+"x"+(c+u).toFixed(2),o,i-c+16)))})),e.debugOptions.objects.enabled&&(e.debugOptions.objects.bounding&&(this.context.fillStyle=e.debugOptions.objects.bounding,this.context.beginPath(),this.context.rect(0,0,g,m),this.context.fill()),e.debugOptions.objects.text&&(this.context.fillStyle="#ffffff",this.context.strokeStyle="#000000",this.context.lineWidth=2,this.context.font="8px monospace",this.context.strokeText(g.toFixed(2)+"x"+m.toFixed(2),0,8,g),this.context.fillText(g.toFixed(2)+"x"+m.toFixed(2),0,8,g))),this.updateTexture()}},e.prototype.wordWrap=function(t){var e="",r=this.getTagRegex(!0,!0),n=t.split("\n"),o=this.withPrivateMembers()._style.wordWrapWidth,i=[this.assign({},this.textStyles.default)];this.context.font=this.getFontString(this.textStyles.default);for(var a=0;a<n.length;a++){for(var c=o,u=n[a].split(r),s=!0,l=0;l<u.length;l++)if(r.test(u[l]))e+=u[l],"/"===u[l][1]?(l+=2,i.pop()):(i.push(this.assign({},i[i.length-1],this.textStyles[u[++l]])),l++),this.context.font=this.getFontString(i[i.length-1]);else for(var f=u[l].split(" "),h=0;h<f.length;h++){var p=this.context.measureText(f[h]).width;if(this.withPrivateMembers()._style.breakWords&&p>c){var y=f[h].split("");h>0&&(e+=" ",c-=this.context.measureText(" ").width);for(var d=0;d<y.length;d++){var v=this.context.measureText(y[d]).width;v>c?(e+="\n"+y[d],c=o-v):(e+=y[d],c-=v)}}else if(this.withPrivateMembers()._style.breakWords)e+=f[h],c-=p;else{var b=p+(h>0?this.context.measureText(" ").width:0);b>c?(s||(e+="\n"),e+=f[h],c=o-p):(c-=b,h>0&&(e+=" "),e+=f[h])}s=!1}a<n.length-1&&(e+="\n")}return e},e.prototype.updateTexture=function(){var t=this.withPrivateMembers()._texture,e=this.getDropShadowPadding();t.baseTexture.setRealSize(this.canvas.width,this.canvas.height,this.resolution),t.trim.width=t.frame.width=this.canvas.width/this.resolution,t.trim.height=t.frame.height=this.canvas.height/this.resolution,t.trim.x=-this.withPrivateMembers()._style.padding-e,t.trim.y=-this.withPrivateMembers()._style.padding-e,t.orig.width=t.frame.width-2*(this.withPrivateMembers()._style.padding+e),t.orig.height=t.frame.height-2*(this.withPrivateMembers()._style.padding+e),this.withPrivateMembers()._onTextureUpdate(),t.baseTexture.emit("update",t.baseTexture),this.withPrivateMembers().dirty=!1},e.prototype.assign=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var n=0,o=e;n<o.length;n+=1){var i=o[n];for(var a in i)t[a]=i[a]}return t},Object.defineProperties(e.prototype,r),e}(X.xv);je.DEFAULT_TAG_STYLE={align:"left",breakWords:!1,dropShadow:!1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:X.M_.LINEAR_VERTICAL,fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",valign:"baseline",wordWrap:!1,wordWrapWidth:100,tagStyle:"xml"},je.debugOptions={spans:{enabled:!1,baseline:"#44BB44",top:"#BB4444",bottom:"#4444BB",bounding:"rgba(255, 255, 255, 0.1)",text:!0},objects:{enabled:!1,bounding:"rgba(255, 255, 255, 0.05)",text:!0}};const _e=je;var Ee,Le,Te,Ce=r(9421),Ae=r(6896);function Fe(t){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(t)}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function De(){De=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",y="completed",d={};function v(){}function b(){}function g(){}var m={};s(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,a)&&(m=x);var S=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Fe(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Fe(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function Me(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Ie(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Me(i,n,o,a,c,"next",t)}function c(t){Me(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$e(n.key),n)}}function Ge(t,e,r){return e=Xe(e),function(t,e){if(e&&("object"==Fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,qe()?Reflect.construct(e,r||[],Xe(t).constructor):e.apply(t,r))}function qe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qe=function(){return!!t})()}function Ze(t,e,r,n){var o=ze(Xe(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function ze(){return ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=We(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ze.apply(null,arguments)}function We(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Xe(t)););return t}function Xe(t){return Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xe(t)}function Ye(t,e){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ye(t,e)}function Ue(t,e,r){return(e=$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function He(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Ve(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function $e(t){var e=function(t,e){if("object"!=Fe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fe(e)?e:e+""}function Ke(t,e,r){"symbol"==Fe(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function Je(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?Fe(t):"null"));return t}var Qe={BitForce:"Beat Force",BitAmazingForce:"Amazing Kick",Velocity:"Max Speed",Rebound:"Rebound"},tr=new WeakMap,er=function(t){function e(){var t;Re(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return He(t=Ge(this,e,[].concat(n)),tr,Le(t,"selected")),Ue(t,"type",(Te(t),"Bit")),Ue(t,"upgradeTextStyle",{default:{fill:12845055,fontFamily:"PTSans-Bold",fontSize:48},number:{fill:16777215}}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ye(t,e)}(e,t),function(t,e,r){return e&&Ne(t.prototype,e),r&&Ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"state",get:function(){return function(t,e){return t.get(Ve(t,e))}(tr,this)},set:function(t){!function(t,e,r){t.set(Ve(t,e),r)}(tr,this,t)}},{key:"init",value:(r=Ie(De().mark((function t(){return De().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ze(e,"init",this,3)([]);case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"onCreate",value:function(){var t=this;this.container=(0,i.q0)(this,"container"),this.purchaseButton=(0,i.q0)(this,"purchaseButton"),this.upgradeIcon=(0,i.q0)(this,"upgradeIcon"),this.lockedIcon=(0,i.q0)(this,"lockedIcon"),this.continuousEmitter=(0,i.q0)(this,"continuousEmitter"),this.animationContainer=(0,i.q0)(this,"animationContainer"),this.upgradeText1=this.container.addChild(new _e("",this.upgradeTextStyle)),this.upgradeText1.anchor.set(0,.5),this.upgradeText1.position.set(-261,141),this.upgradeText2=this.container.addChild(new _e("",this.upgradeTextStyle)),this.upgradeText2.anchor.set(0,.5),this.upgradeText2.position.set(-261,199),this.disposeBag.push(this.purchaseButton.onOff("button:clickPurchase",Ie(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.Z.meta.bats.batsMap[t.type].buy(),V.Z.meta.bats.selectBat(t.type),t.emit("select",t.type);case 3:case"end":return e.stop()}}),e)})))),this.purchaseButton.onOff("button:clickSelect",Ie(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.Z.meta.bats.selectedBat===t.type&&t.animateSelection(),V.Z.meta.bats.selectBat(t.type),t.emit("select",t.type);case 3:case"end":return e.stop()}}),e)})))),this.purchaseButton.onOff("button:disabledClick",Ie(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.emit("failedPurchase"),t.purchaseButton.createAnimation("disabledClick",!1,!0);case 2:case"end":return e.stop()}}),e)})))))}},{key:"setBatType",value:function(t,e){var r=this;this.type=t;var o=Ce.y[t].boosterInfos;[this.upgradeText1,this.upgradeText2].forEach((function(t,e){if(o[e]){var r=o[e],n=r.type,i=r.boosterPercent,a=Qe[n];t.text="<number>+".concat(i,"%</number> ").concat(a),t.visible=!0}else t.visible=!1})),this.purchaseButton.setPrice(e),this.disposeBag.push((0,n.EH)((function(){var e;e=V.Z.meta.bats.selectedBat===t?"selected":V.Z.meta.bats.batsMap[t].isPurchased?"purchased":V.Z.meta.bats.batsMap[t].canBuy?"availableForPurchase":"unavailableForPurchase",r.setState(e)})))}},{key:"animateSelection",value:function(){var t,e=this;this.animationContainer.visible=!0,null===(t=o.Z.createAnimation(this,"revealAnimation",!1,!0))||void 0===t||t.once("animationEnd",(function(){e.animationContainer.visible=!1}))}},{key:"setState",value:function(t){var e=this.state;this.state=t;var r=Ce.y[this.type],n=r.commonIconName,o=r.selectedIconName,i="bats-purchase/".concat(n),a="bats-purchase/".concat(o);this.lockedIcon.visible="selected"!==t&&"purchased"!==t,this.continuousEmitter.visible="selected"===t,"selected"===t?("selected"!==e&&this.animateSelection(),this.upgradeIcon.texture=(0,Ae.Fg)(a)):this.upgradeIcon.texture=(0,Ae.Fg)(i),this.purchaseButton.setState(t)}}]);var r}(Ee=o.Z.Component),rr=function(t,e,r,n,o,i){var a,c,u,s,l,f,h,p=Symbol.metadata||Symbol.for("Symbol.metadata"),y=Object.defineProperty,d=Object.create,v=[d(null),d(null)],b=e.length;function g(e,r,n){return function(o,i){r&&(i=o,o=t);for(var a=0;a<e.length;a++)i=e[a].apply(o,n?[i]:[]);return n?i:o}}function m(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function w(t,e,r,n,o,i,u,s,l,f,h){function p(t){if(!h(t))throw new TypeError("Attempted to access private element on non-instance")}var d=[].concat(e[0]),b=e[3],w=!u,x=1===o,S=3===o,O=4===o,P=2===o;function k(e,r,n){return function(o,i){return r&&(i=o,o=t),n&&n(o),j[e].call(o,i)}}if(!w){var j={},_=[],E=S?"get":O||x?"set":"value";if(l?(f||x?j={get:Ke((function(){return b(this)}),n,"get"),set:function(t){e[4](this,t)}}:j[E]=b,f||Ke(j[E],n,P?"":E)):f||(j=Object.getOwnPropertyDescriptor(t,n)),!f&&!l){if((c=v[+s][n])&&7!=(c^o))throw Error("Decorating two elements with the same name ("+j[E].name+") is not supported yet");v[+s][n]=o<3?1:o}}for(var L=t,T=d.length-1;T>=0;T-=r?2:1){var C=m(d[T],"A decorator","be",!0),A=r?d[T-1]:void 0,F={},B={kind:["field","accessor","method","getter","setter","class"][o],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");m(e,"An initializer","be",!0),i.push(e)}.bind(null,F)};if(w)c=C.call(A,L,B),F.v=1,m(c,"class decorators","return")&&(L=c);else if(B.static=s,B.private=l,c=B.access={has:l?h.bind():function(t){return n in t}},O||(c.get=l?P?function(t){return p(t),j.value}:k("get",0,p):function(t){return t[n]}),P||S||(c.set=l?k("set",0,p):function(t,e){t[n]=e}),L=C.call(A,x?{get:j.get,set:j.set}:j[E],B),F.v=1,x){if("object"==Fe(L)&&L)(c=m(L.get,"accessor.get"))&&(j.get=c),(c=m(L.set,"accessor.set"))&&(j.set=c),(c=m(L.init,"accessor.init"))&&_.unshift(c);else if(void 0!==L)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else m(L,(f?"field":"method")+" decorators","return")&&(f?_.unshift(L):j[E]=L)}return o<2&&u.push(g(_,s,1),g(i,s,0)),f||w||(l?x?u.splice(-1,0,k("get",s),k("set",s)):u.push(P?j[E]:m.call.bind(j[E])):y(t,n,j)),L}function x(t){return y(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==i&&(a=i[p]),a=d(null==a?null:a),l=[],f=function(t){t&&l.push(g(t))},h=function(e,n){for(var i=0;i<r.length;i++){var a=r[i],c=a[1],f=7&c;if((8&c)==e&&!f==n){var h=a[2],p=!!a[3],y=16&c;w(e?t:t.prototype,a,y,p?"#"+h:$e(h),f,f<2?[]:e?s=s||[]:u=u||[],l,!!e,p,n,e&&p?function(e){return Je(e)===t}:o)}}},h(8,0),h(0,0),h(8,1),h(0,1),f(u),f(s),c=l,b||x(t),{e:c,get c(){var r=[];return b&&[x(t=w(t,[e],n,t.name,5,r)),g(r,1)]}}}(er,[],[[n.LO,1,"state"]],0,void 0,Ee).e,nr=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Be(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Be(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr,2);Le=nr[0],Te=nr[1];var or=r(8667);function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function ar(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cr(n.key),n)}}function cr(t){var e=function(t,e){if("object"!=ir(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ir(e)?e:e+""}function ur(t,e,r){return e=lr(e),function(t,e){if(e&&("object"==ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,sr()?Reflect.construct(e,r||[],lr(t).constructor):e.apply(t,r))}function sr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sr=function(){return!!t})()}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lr(t)}function fr(t,e){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fr(t,e)}var hr=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ur(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fr(t,e)}(e,t),function(t,e,r){return e&&ar(t.prototype,e),r&&ar(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"onCreate",value:function(){var t=this;this.maxWidth=1240,this.root=(0,i.q0)(this,"root"),this.fills={snowArcticLocation:(0,i.q0)(this,"snow-arctic"),iceArcticLocation:(0,i.q0)(this,"ice-arctic"),tundraLocation:(0,i.q0)(this,"tundra"),marioLocation:(0,i.q0)(this,"mario"),colonyLocation:(0,i.q0)(this,"colony")},this.maxDistanceSlider=(0,i.q0)(this,"max-distance-slider"),this.maxDistanceSlider.visible=V.Z.meta.maxDistance.value>0,this.currentDistanceSlider=(0,i.q0)(this,"current-distance-slider"),this.currentDistanceText=(0,i.q0)(this,"current-distance-text"),this.cupContainer=(0,i.q0)(this,"cup-container"),this.disposeBag.push((0,n.EH)((function(){t.setMaxDistance(V.Z.meta.maxDistance.value)}))),this.updateBarFills(this.nextLeagueDistance)}},{key:"updateBarFills",value:function(t){for(var e=0,r=Object.keys(or);e<r.length;e++){var n=r[e],o=this.fills[n];t<or[n]?(o.width=this.maxWidth,o.pivot.x=o.width):(o.width=(0,Et.t7)(0,this.maxWidth,or[n]/t),o.pivot.x=o.width,"colonyLocation"===n&&t>or[n]&&(o.width=this.maxWidth,o.pivot.x=o.width))}}},{key:"setMaxDistance",value:function(t){var e,r;this.nextLeagueDistance=null!==(e=null===(r=_t.ge.find((function(e){return e.distanceForReach>t})))||void 0===r?void 0:r.distanceForReach)&&void 0!==e?e:t,this.maxDistance=t,this.maxDistanceSlider.position.x=-(0,Et.t7)(0,this.maxWidth,t/this.nextLeagueDistance),(0,i.q0)(this,"max-distance-text").text=Math.round(t)}},{key:"stoppedAnimation",value:function(){this.cupAnimation&&this.cupAnimation.destroy()}},{key:"setCurrentPosition",value:function(t){var e=this;t&&(t>this.nextLeagueDistance?(this.cupAnimationStarted||(this.cupAnimationStarted=!0,this.createAnimation("animateShine",!1,!0),o.Z.createComponent("ProgressBarAnimation").then((function(t){e.cupAnimation=t,e.cupContainer.addChild(t)}))),this.updateBarFills(t),this.currentDistanceSlider.position.x=-this.maxWidth):(t>this.maxDistance&&(this.updateBarFills(t),this.maxDistanceSlider.visible=!1),this.currentDistanceSlider.position.x=-(0,Et.t7)(0,this.maxWidth,t/this.nextLeagueDistance)),this.currentDistanceText.text=Math.round(t))}}])}(o.Z.Component);function pr(t){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(t)}function yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vr(n.key),n)}}function vr(t){var e=function(t,e){if("object"!=pr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pr(e)?e:e+""}function br(t,e,r){return e=mr(e),function(t,e){if(e&&("object"==pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gr()?Reflect.construct(e,r||[],mr(t).constructor):e.apply(t,r))}function gr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gr=function(){return!!t})()}function mr(t){return mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mr(t)}function wr(t,e){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wr(t,e)}var xr,Sr,Or,Pr=function(t){function e(){return yr(this,e),br(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wr(t,e)}(e,t),function(t,e,r){return e&&dr(t.prototype,e),r&&dr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"onCreate",value:function(){var t=this;this.root=(0,i.q0)(this,"root"),this.tabs=[(0,i.q0)(this,"tab1"),(0,i.q0)(this,"tab2"),(0,i.q0)(this,"tab3"),(0,i.q0)(this,"tab4")];for(var e=function(e){t.tabs[e].on("pointerup",(function(){t.setActiveTab(e)}))},r=0;r<this.tabs.length;r++)e(r);this.disposeBag.push((0,n.U5)((function(){var t=V.Z.meta.upgrades.manualUpgrades.findIndex((function(t){return t.freeUpgradeCount.value>0}));return-1===t?3:t}),(function(e){t.setActiveTab(e)}),{fireImmediately:!0}))}},{key:"setActiveTab",value:function(t){if(O.Z.replaySingle("button_press3",!1,1),this.tabs)for(var e=0;e<this.tabs.length;e++){var r=this.tabs[e];r.isSelected=e===t,e<=t&&r.activate(),e>t&&r.deactivate()}}}])}(o.Z.Component);function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function jr(t,e){if(t){if("string"==typeof t)return _r(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_r(t,e):void 0}}function _r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Er(){Er=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",y="completed",d={};function v(){}function b(){}function g(){}var m={};s(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,a)&&(m=x);var S=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==kr(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(kr(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function Lr(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Tr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Lr(i,n,o,a,c,"next",t)}function c(t){Lr(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ar(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gr(n.key),n)}}function Fr(t,e,r){return e=Dr(e),function(t,e){if(e&&("object"==kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Br()?Reflect.construct(e,r||[],Dr(t).constructor):e.apply(t,r))}function Br(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Br=function(){return!!t})()}function Dr(t){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dr(t)}function Mr(t,e){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mr(t,e)}function Ir(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Rr(t,e,r){return(e=Gr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nr(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Gr(t){var e=function(t,e){if("object"!=kr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kr(e)?e:e+""}function qr(t,e,r){"symbol"==kr(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function Zr(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?kr(t):"null"));return t}var zr,Wr,Xr,Yr,Ur,Hr,Vr,$r=new WeakMap,Kr=function(t){function e(){var t;Cr(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Ir(t=Fr(this,e,[].concat(n)),$r,Sr(t,!1)),Rr(t,"tweens",(Or(t),[])),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mr(t,e)}(e,t),function(t,e,r){return e&&Ar(t.prototype,e),r&&Ar(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"props",get:function(){return this.config.props}},{key:"isSelected",get:function(){return function(t,e){return t.get(Nr(t,e))}($r,this)},set:function(t){!function(t,e,r){t.set(Nr(t,e),r)}($r,this,t)}},{key:"onCreate",value:function(){var t=this;this.isStartedAnimation=!1,this.shadow=(0,i.q0)(this,"shadow"),this.back=(0,i.q0)(this,"back"),this.textContainer=(0,i.q0)(this,"textContainer"),this.upgradeButton=(0,i.q0)(this,"upgradeButton"),this.lvlText=(0,i.q0)(this,"lvlText"),this.lvlTextFormat=this.lvlText.text,this.icon=(0,i.q0)(this,"icon"),this.iconSparkle=(0,i.q0)(this,"iconSparkle"),this.icon.on("pointerup",(function(){new a.kX(t.icon.scale).to({x:.5,y:.5},200).onComplete((function(){t.icon.scale.set(.6,.6)})).repeat(1).yoyo(!0).easing(a.oY.Back.Out).start()})),this.badge=(0,i.q0)(this,"badge"),this.disposeBag.push(this.badge.createAnimation("animIdle",!1,!0,1/0)),this.isActive=this.props.isActive,this.interactive=!0,this.buttonMode=!0,this.disposeBag.push((0,n.U5)((function(){return V.Z.meta.upgrades[t.props.type].canBuy}),(function(e){t.upgradeButton.setDisabled(!e)}),{fireImmediately:!0}),(0,n.U5)((function(){return V.Z.meta.upgrades[t.props.type].level.value}),(function(e){t.lvlText.text=t.lvlTextFormat.replace("?",e)}),{fireImmediately:!0}),(0,n.U5)((function(){var e=V.Z.meta.upgrades[t.props.type];return e.level.value>=e.maxLevel}),(function(e){e&&t.upgradeButton.setCompleted()}),{fireImmediately:!0}),(0,n.EH)((function(){t.badge.visible=!t.isSelected&&V.Z.meta.upgrades[t.props.type].canBuy,t.isSelected?t.changeBackgroundColor(3465470,39146):t.changeBackgroundColor(39146,3465470)})),(0,n.U5)((function(){return!t.isSelected&&V.Z.meta.upgrades[t.props.type].canBuy}),(function(e){t.badge.visible=e}),{fireImmediately:!0}),(0,n.U5)((function(){return t.isSelected}),(function(e){e?t.changeBackgroundColor(3465470,39146):t.changeBackgroundColor(39146,3465470)}),{fireImmediately:!0}),(0,n.U5)((function(){var e=V.Z.meta.upgrades[t.props.type];return e.freeUpgradeCount.value>0?"FREE":e.price.toString()}),(function(e){t.upgradeButton.setText(e)}),{fireImmediately:!0})),this.upgradeButton.on("button:click",(function(){t.isStartedAnimation||(t.isStartedAnimation=!0,t.upgradeButton.createAnimation("successfulClick",!1,!0),t.animateSparkle()),V.Z.meta.upgrades[t.props.type].buyOnLevel(),t.animateIconOnBuy()})),this.upgradeButton.on("button:disabledClick",(function(){t.upgradeButton.createAnimation("disabledClick",!1,!0)})),this.handleResize()}},{key:"animateSparkle",value:function(){var t=this;this.iconSparkle.scale.set(.7),new a.kX(this.iconSparkle).to({scale:{x:1.2,y:1.2},alpha:1},200).start(),new a.kX({t:0}).to({t:1},100).onUpdate((function(e){var r=e.t;t.iconSparkle.alpha=1-r,t.iconSparkle.scale.set((0,Et.t7)(1.2,1.5,r))})).delay(200).start()}},{key:"animateIconOnBuy",value:(o=Tr(Er().mark((function t(){var e=this;return Er().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.scaleIconTween&&this.scaleIconTween.stop(),new a.kX(this.icon.scale).to({x:.9,y:.9},100).start(),this.scaleIconTween=new a.kX({t:0}).to({t:1},100).onUpdate((function(t){var r=t.t;e.icon.scale.set((0,Et.t7)(.9,.6,r))})).onComplete((function(){e.isStartedAnimation=!1})).delay(200),this.scaleIconTween.start();case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"stopTweens",value:function(){var t,e=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=jr(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(this.tweens);try{for(e.s();!(t=e.n()).done;){t.value.stop()}}catch(t){e.e(t)}finally{e.f()}this.tweens=[]}},{key:"activate",value:(r=Tr(Er().mark((function t(){var e,r,n=this;return Er().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isActive){t.next=2;break}return t.abrupt("return");case 2:this.isActive=!0,this.stopTweens(),this.interactive=!1,(e=new a.kX({t:0}).to({t:1},500).onUpdate((function(t){var e=t.t;n.pivot.x=(0,Et.t7)(-n.props.activeWidthShadow+n.props.inactiveWidthShadow,0,e),n.shadow.width=(0,Et.t7)(n.props.inactiveWidthShadow,n.props.activeWidthShadow,e),n.back.width=(0,Et.t7)(n.props.inactiveWidthBack,n.props.activeWidthBack,e)})).easing(a.oY.Back.InOut)).start(),(r=new a.kX({t:0}).to({t:1},200).onUpdate((function(t){var e=t.t;n.textContainer.scale.set(e),n.upgradeButton.scale.set((0,Et.t7)(0,.8,e))})).onStart((function(){n.upgradeButton.interactive=!0})).onComplete((function(){n.interactive=!0})).delay(400).easing(a.oY.Back.Out)).start(),this.tweens.push(e,r);case 10:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"deactivate",value:function(){var t=this;if(this.isActive){this.isActive=!1,this.interactive=!1,this.stopTweens();var e=new a.kX({t:1}).to({t:0},200).onUpdate((function(e){var r=e.t;t.textContainer.scale.set(r),t.upgradeButton.scale.set((0,Et.t7)(0,.8,r))}));e.start();var r=new a.kX({t:1}).to({t:0},500).onUpdate((function(e){var r=e.t;t.shadow.width=(0,Et.t7)(t.props.inactiveWidthShadow,t.props.activeWidthShadow,r),t.back.width=(0,Et.t7)(t.props.inactiveWidthBack,t.props.activeWidthBack,r),t.pivot.x=(0,Et.t7)(0,-t.props.activeWidthShadow+t.props.inactiveWidthShadow,1-r)})).onComplete((function(){t.upgradeButton.interactive=!1,t.interactive=!0})).easing(a.oY.Back.InOut);r.start(),this.tweens.push(e,r)}}},{key:"changeBackgroundColor",value:function(t,e){var r=this;new a.kX({t:0}).to({t:1},200).onUpdate((function(n){var o=n.t;r.back.tint=(0,Et.j1)(t,e,o)})).start()}},{key:"handleResize",value:function(){"ability"===this.props.type?this.upgradeButton.position.x=140:"beatForce"===this.props.type||("groundCollision"===this.props.type?this.upgradeButton.position.x=140:"maxVelocity"===this.props.type&&(this.upgradeButton.position.x=120))}}]);var r,o}(xr=o.Z.Container),Jr=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||jr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(t,e,r,n,o,i){var a,c,u,s,l,f,h,p=Symbol.metadata||Symbol.for("Symbol.metadata"),y=Object.defineProperty,d=Object.create,v=[d(null),d(null)],b=e.length;function g(e,r,n){return function(o,i){r&&(i=o,o=t);for(var a=0;a<e.length;a++)i=e[a].apply(o,n?[i]:[]);return n?i:o}}function m(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function w(t,e,r,n,o,i,u,s,l,f,h){function p(t){if(!h(t))throw new TypeError("Attempted to access private element on non-instance")}var d=[].concat(e[0]),b=e[3],w=!u,x=1===o,S=3===o,O=4===o,P=2===o;function k(e,r,n){return function(o,i){return r&&(i=o,o=t),n&&n(o),j[e].call(o,i)}}if(!w){var j={},_=[],E=S?"get":O||x?"set":"value";if(l?(f||x?j={get:qr((function(){return b(this)}),n,"get"),set:function(t){e[4](this,t)}}:j[E]=b,f||qr(j[E],n,P?"":E)):f||(j=Object.getOwnPropertyDescriptor(t,n)),!f&&!l){if((c=v[+s][n])&&7!=(c^o))throw Error("Decorating two elements with the same name ("+j[E].name+") is not supported yet");v[+s][n]=o<3?1:o}}for(var L=t,T=d.length-1;T>=0;T-=r?2:1){var C=m(d[T],"A decorator","be",!0),A=r?d[T-1]:void 0,F={},B={kind:["field","accessor","method","getter","setter","class"][o],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");m(e,"An initializer","be",!0),i.push(e)}.bind(null,F)};if(w)c=C.call(A,L,B),F.v=1,m(c,"class decorators","return")&&(L=c);else if(B.static=s,B.private=l,c=B.access={has:l?h.bind():function(t){return n in t}},O||(c.get=l?P?function(t){return p(t),j.value}:k("get",0,p):function(t){return t[n]}),P||S||(c.set=l?k("set",0,p):function(t,e){t[n]=e}),L=C.call(A,x?{get:j.get,set:j.set}:j[E],B),F.v=1,x){if("object"==kr(L)&&L)(c=m(L.get,"accessor.get"))&&(j.get=c),(c=m(L.set,"accessor.set"))&&(j.set=c),(c=m(L.init,"accessor.init"))&&_.unshift(c);else if(void 0!==L)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else m(L,(f?"field":"method")+" decorators","return")&&(f?_.unshift(L):j[E]=L)}return o<2&&u.push(g(_,s,1),g(i,s,0)),f||w||(l?x?u.splice(-1,0,k("get",s),k("set",s)):u.push(P?j[E]:m.call.bind(j[E])):y(t,n,j)),L}function x(t){return y(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==i&&(a=i[p]),a=d(null==a?null:a),l=[],f=function(t){t&&l.push(g(t))},h=function(e,n){for(var i=0;i<r.length;i++){var a=r[i],c=a[1],f=7&c;if((8&c)==e&&!f==n){var h=a[2],p=!!a[3],y=16&c;w(e?t:t.prototype,a,y,p?"#"+h:Gr(h),f,f<2?[]:e?s=s||[]:u=u||[],l,!!e,p,n,e&&p?function(e){return Zr(e)===t}:o)}}},h(8,0),h(0,0),h(8,1),h(0,1),f(u),f(s),c=l,b||x(t),{e:c,get c(){var r=[];return b&&[x(t=w(t,[e],n,t.name,5,r)),g(r,1)]}}}(Kr,[],[[n.LO,1,"isSelected"]],0,void 0,xr).e,2);function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function en(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pn(n.key),n)}}function nn(t,e,r){return e=an(e),function(t,e){if(e&&("object"==Qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,on()?Reflect.construct(e,r||[],an(t).constructor):e.apply(t,r))}function on(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(on=function(){return!!t})()}function an(t){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},an(t)}function cn(t,e){return cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cn(t,e)}function un(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function sn(t,e,r){return(e=pn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ln(t,e,r){return t.set(hn(t,e),r),r}function fn(t,e){return t.get(hn(t,e))}function hn(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function pn(t){var e=function(t,e){if("object"!=Qr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qr(e)?e:e+""}function yn(t,e,r){"symbol"==Qr(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function dn(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?Qr(t):"null"));return t}Sr=Jr[0],Or=Jr[1],Rr(Kr,"defaultProps",{activeWidthBack:{type:"number",value:760},activeWidthShadow:{type:"number",value:780},inactiveWidthBack:{type:"number",value:160},inactiveWidthShadow:{type:"number",value:180},isActive:{type:"boolean",value:!1}});var vn=new WeakMap,bn=new WeakMap,gn=new WeakMap,mn=function(t){function e(){var t;en(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return un(t=nn(this,e,[].concat(n)),vn,Wr(t,!1)),un(t,bn,(Xr(t),Yr(t,!1))),un(t,gn,(Ur(t),Hr(t,!1))),sn(t,"knownTouches",(Vr(t),{})),sn(t,"isClickCancelled",!1),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cn(t,e)}(e,t),function(t,e,r){return e&&rn(t.prototype,e),r&&rn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"props",get:function(){var t;return null!==(t=this.config.props)&&void 0!==t?t:(0,i.D7)("config")}},{key:"clickSound",get:function(){return this.props.clickSound||e.defaultProps.clickSound.value}},{key:"isDown",get:function(){return fn(vn,this)},set:function(t){ln(vn,this,t)}},{key:"isHovered",get:function(){return fn(bn,this)},set:function(t){ln(bn,this,t)}},{key:"isDisabled",get:function(){return fn(gn,this)},set:function(t){ln(gn,this,t)}},{key:"onCreate",value:function(){var t=this;this.root=(0,i.q0)(this,"root"),this.disabledContent=(0,i.q0)(this.root,"disabled"),this.content=(0,i.q0)(this.root,"content"),this.buttonMode=!0,this.interactive=!0,this.on("click",this.onClick,this),this.on("tap",this.onClick,this),this.on("pointerdown",this.onPointerdown,this),this.on("pointerup",this.onPointerup,this),this.on("pointerupoutside",this.onPointerup,this),this.on("pointercancel",this.onPointerup,this),this.on("pointermove",this.onPointermove,this),this.on("pointerover",this.onPointerover,this),this.on("pointerout",this.onPointerout,this),(0,n.U5)((function(){return t.isDisabled}),(function(e){t.content.visible=!e,t.disabledContent&&(t.disabledContent.visible=e)}))}},{key:"onClick",value:function(){this.isClickCancelled||(this.isDisabled?this.emit("button:disabledClick"):(O.Z.replaySingle(this.clickSound),this.emit("button:click")))}},{key:"onPointerdown",value:function(t){this.isDown=!0,this.isDisabled||(this.isClickCancelled=!1),new a.kX(this.root.scale,V.Z.unscaledTweenGroup).to({x:.9,y:.9},100).start(),this.emit("button:down"),this.knownTouches[t.data.identifier]={x:t.data.global.x,y:t.data.global.y}}},{key:"onPointerup",value:function(t){delete this.knownTouches[t.data.identifier],this.isDown=!1,new a.kX(this.root.scale,V.Z.unscaledTweenGroup).to({x:1,y:1},500).easing((function(t){return Math.pow(2,-6*t)*Math.sin(10*(t+.5))+1})).start(),this.emit("button:up")}},{key:"onPointermove",value:function(t){var e=this.knownTouches[t.data.identifier];if(e&&this.props.cancelClickOnDrag){var r=e.x-t.data.global.x,n=e.y-t.data.global.y;Math.sqrt(r*r+n*n)>this.props.cancelClickOnDragThreshold&&(this.isClickCancelled=!0,this.onPointerup(t))}}},{key:"onPointerover",value:function(){this.isHovered=!0}},{key:"setDisabled",value:function(t){this.isDisabled=t}},{key:"onPointerout",value:function(t){this.isHovered=!1,this.onPointermove(t)}}])}(zr=o.Z.Container),wn=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tn(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(t,e,r,n,o,i){var a,c,u,s,l,f,h,p=Symbol.metadata||Symbol.for("Symbol.metadata"),y=Object.defineProperty,d=Object.create,v=[d(null),d(null)],b=e.length;function g(e,r,n){return function(o,i){r&&(i=o,o=t);for(var a=0;a<e.length;a++)i=e[a].apply(o,n?[i]:[]);return n?i:o}}function m(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function w(t,e,r,n,o,i,u,s,l,f,h){function p(t){if(!h(t))throw new TypeError("Attempted to access private element on non-instance")}var d=[].concat(e[0]),b=e[3],w=!u,x=1===o,S=3===o,O=4===o,P=2===o;function k(e,r,n){return function(o,i){return r&&(i=o,o=t),n&&n(o),j[e].call(o,i)}}if(!w){var j={},_=[],E=S?"get":O||x?"set":"value";if(l?(f||x?j={get:yn((function(){return b(this)}),n,"get"),set:function(t){e[4](this,t)}}:j[E]=b,f||yn(j[E],n,P?"":E)):f||(j=Object.getOwnPropertyDescriptor(t,n)),!f&&!l){if((c=v[+s][n])&&7!=(c^o))throw Error("Decorating two elements with the same name ("+j[E].name+") is not supported yet");v[+s][n]=o<3?1:o}}for(var L=t,T=d.length-1;T>=0;T-=r?2:1){var C=m(d[T],"A decorator","be",!0),A=r?d[T-1]:void 0,F={},B={kind:["field","accessor","method","getter","setter","class"][o],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");m(e,"An initializer","be",!0),i.push(e)}.bind(null,F)};if(w)c=C.call(A,L,B),F.v=1,m(c,"class decorators","return")&&(L=c);else if(B.static=s,B.private=l,c=B.access={has:l?h.bind():function(t){return n in t}},O||(c.get=l?P?function(t){return p(t),j.value}:k("get",0,p):function(t){return t[n]}),P||S||(c.set=l?k("set",0,p):function(t,e){t[n]=e}),L=C.call(A,x?{get:j.get,set:j.set}:j[E],B),F.v=1,x){if("object"==Qr(L)&&L)(c=m(L.get,"accessor.get"))&&(j.get=c),(c=m(L.set,"accessor.set"))&&(j.set=c),(c=m(L.init,"accessor.init"))&&_.unshift(c);else if(void 0!==L)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else m(L,(f?"field":"method")+" decorators","return")&&(f?_.unshift(L):j[E]=L)}return o<2&&u.push(g(_,s,1),g(i,s,0)),f||w||(l?x?u.splice(-1,0,k("get",s),k("set",s)):u.push(P?j[E]:m.call.bind(j[E])):y(t,n,j)),L}function x(t){return y(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==i&&(a=i[p]),a=d(null==a?null:a),l=[],f=function(t){t&&l.push(g(t))},h=function(e,n){for(var i=0;i<r.length;i++){var a=r[i],c=a[1],f=7&c;if((8&c)==e&&!f==n){var h=a[2],p=!!a[3],y=16&c;w(e?t:t.prototype,a,y,p?"#"+h:pn(h),f,f<2?[]:e?s=s||[]:u=u||[],l,!!e,p,n,e&&p?function(e){return dn(e)===t}:o)}}},h(8,0),h(0,0),h(8,1),h(0,1),f(u),f(s),c=l,b||x(t),{e:c,get c(){var r=[];return b&&[x(t=w(t,[e],n,t.name,5,r)),g(r,1)]}}}(mn,[],[[n.LO,1,"isDown"],[n.LO,1,"isHovered"],[n.LO,1,"isDisabled"]],0,void 0,zr).e,6);function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}function Sn(){Sn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",y="completed",d={};function v(){}function b(){}function g(){}var m={};s(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,a)&&(m=x);var S=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==xn(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(xn(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function On(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cn(n.key),n)}}function jn(t,e,r){return e=En(e),function(t,e){if(e&&("object"==xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_n()?Reflect.construct(e,r||[],En(t).constructor):e.apply(t,r))}function _n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_n=function(){return!!t})()}function En(t){return En=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},En(t)}function Ln(t,e){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ln(t,e)}function Tn(t,e,r){return(e=Cn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cn(t){var e=function(t,e){if("object"!=xn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xn(e)?e:e+""}Wr=wn[0],Xr=wn[1],Yr=wn[2],Ur=wn[3],Hr=wn[4],Vr=wn[5],sn(mn,"defaultProps",{cancelClickOnDrag:{type:"boolean",value:!1},cancelClickOnDragThreshold:{type:"number",value:20},clickSound:{type:"string",value:"button_press3"}});var An=function(t){function e(){var t;Pn(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Tn(t=jn(this,e,[].concat(n)),"lastCoins",void 0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ln(t,e)}(e,t),function(t,e,r){return e&&kn(t.prototype,e),r&&kn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"onCreate",value:function(){var t=this;this.coinsText=(0,i.q0)(this,"text"),this.disposeBag.push((0,n.EH)((function(){t.coinsText.text="".concat(V.Z.meta.coins.value),void 0!==t.lastCoins&&t.lastCoins<V.Z.meta.coins.value&&t.startAnimation(),t.lastCoins=V.Z.meta.coins.value})))}},{key:"startAnimation",value:(r=Sn().mark((function t(){var e;return Sn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isStartedAnimation){t.next=2;break}return t.abrupt("return");case 2:return this.isStartedAnimation=!0,t.next=5,o.Z.createComponent("effects/FxCoinsPickUp");case 5:return e=t.sent,this.addChild(e),e.position.set(120,0),e.scale.set(.5),t.next=11,new a.kX({t:0}).to({t:1},200).start();case 11:return this.isStartedAnimation=!1,t.next=14,new a.kX({t:0}).to({t:1},500).start();case 14:e.destroy({children:!0});case 15:case"end":return t.stop()}}),t,this)})),c=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){On(i,n,o,a,c,"next",t)}function c(t){On(i,n,o,a,c,"throw",t)}a(void 0)}))},function(){return c.apply(this,arguments)})}]);var r,c}(o.Z.Component);function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function Bn(){Bn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",y="completed",d={};function v(){}function b(){}function g(){}var m={};s(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,a)&&(m=x);var S=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Fn(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Fn(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function Dn(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function In(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zn(n.key),n)}}function Rn(t,e,r){return e=Gn(e),function(t,e){if(e&&("object"==Fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Nn()?Reflect.construct(e,r||[],Gn(t).constructor):e.apply(t,r))}function Nn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nn=function(){return!!t})()}function Gn(t){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(t)}function qn(t,e){return qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qn(t,e)}function Zn(t,e,r){return(e=zn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zn(t){var e=function(t,e){if("object"!=Fn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fn(e)?e:e+""}var Wn=function(t){function e(){var t;Mn(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Zn(t=Rn(this,e,[].concat(n)),"lastGems",void 0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qn(t,e)}(e,t),function(t,e,r){return e&&In(t.prototype,e),r&&In(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"onCreate",value:function(){var t=this;this.gemsText=(0,i.q0)(this,"text"),this.disposeBag.push((0,n.EH)((function(){t.gemsText.text="".concat(V.Z.meta.gems.value),void 0!==t.lastGems&&t.lastGems<V.Z.meta.gems.value&&t.startAnimation(),t.lastGems=V.Z.meta.gems.value})))}},{key:"startAnimation",value:(r=Bn().mark((function t(){var e;return Bn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isStartedAnimation){t.next=2;break}return t.abrupt("return");case 2:return this.isStartedAnimation=!0,t.next=5,o.Z.createComponent("effects/FxGemsPickUp");case 5:return e=t.sent,this.addChild(e),e.position.set(120,0),e.scale.set(.5),t.next=11,new a.kX({t:0}).to({t:1},200).start();case 11:return this.isStartedAnimation=!1,t.next=14,new a.kX({t:0}).to({t:1},500).start();case 14:e.destroy({children:!0});case 15:case"end":return t.stop()}}),t,this)})),c=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){Dn(i,n,o,a,c,"next",t)}function c(t){Dn(i,n,o,a,c,"throw",t)}a(void 0)}))},function(){return c.apply(this,arguments)})}]);var r,c}(o.Z.Component),Xn=r(6891);function Yn(t){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(t)}function Un(){Un=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",y="completed",d={};function v(){}function b(){}function g(){}var m={};s(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,a)&&(m=x);var S=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Yn(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Yn(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function Hn(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Vn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kn(n.key),n)}}function Kn(t){var e=function(t,e){if("object"!=Yn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yn(e)?e:e+""}function Jn(t,e,r){return e=to(e),function(t,e){if(e&&("object"==Yn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qn()?Reflect.construct(e,r||[],to(t).constructor):e.apply(t,r))}function Qn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qn=function(){return!!t})()}function to(t){return to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},to(t)}function eo(t,e){return eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},eo(t,e)}var ro=function(t){function e(){return Vn(this,e),Jn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eo(t,e)}(e,t),function(t,e,r){return e&&$n(t.prototype,e),r&&$n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"onCreate",value:function(){var t={bronze_1_key:"bigboard-map/cup_bronze_s",bronze_2_key:"bigboard-map/cup_bronze_m",bronze_3_key:"bigboard-map/cup_bronze_b",silver_1_key:"bigboard-map/cup_silver_s",silver_2_key:"bigboard-map/cup_silver_m",silver_3_key:"bigboard-map/cup_silver_b",gold_1_key:"bigboard-map/cup_cold_s",gold_2_key:"bigboard-map/cup_cold_m",gold_3_key:"bigboard-map/cup_cold_l",rubin_key:"bigboard-map/cup_cold_b"}[this.config.tag];this.root=(0,i.q0)(this,"root"),this.cup=(0,i.q0)(this,"cup"),this.effectContainer=(0,i.q0)(this,"fvx"),this.cup.addChild(new Xn.Z(t)),this.cup.alpha=0}},{key:"setFilled",value:function(){this.isFilled=!0,this.cup.alpha=1}},{key:"playSetCompleted",value:(r=Un().mark((function t(){return Un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.createAnimation("startShine",!1,!0),!this.isFilled){t.next=3;break}return t.abrupt("return");case 3:return this.isCompleted=!0,this.cup.alpha=1,this.cup.scale.set(0,0),t.next=8,new a.kX(this.cup.scale).to({x:1,y:1},200).easing(a.oY.Back.Out).start();case 8:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){Hn(i,n,o,a,c,"next",t)}function c(t){Hn(i,n,o,a,c,"throw",t)}a(void 0)}))},function(){return n.apply(this,arguments)})}]);var r,n}(o.Z.Component),no=r(4762),oo=(r(9466),r(7040));function io(t){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(t)}function ao(){ao=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",y="completed",d={};function v(){}function b(){}function g(){}var m={};s(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,a)&&(m=x);var S=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==io(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(io(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function co(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function uo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function so(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yo(n.key),n)}}function lo(t,e,r){return e=ho(e),function(t,e){if(e&&("object"==io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fo()?Reflect.construct(e,r||[],ho(t).constructor):e.apply(t,r))}function fo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fo=function(){return!!t})()}function ho(t){return ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ho(t)}function po(t,e){return po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},po(t,e)}function yo(t){var e=function(t,e){if("object"!=io(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=io(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==io(e)?e:e+""}var vo=function(t){function e(){return uo(this,e),lo(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&po(t,e)}(e,t),function(t,e,r){return e&&so(t.prototype,e),r&&so(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"props",get:function(){return this.config.props}},{key:"model",get:function(){return V.Z.meta.dailyMissions.missions[this.props.missionIndexZeroBased]}},{key:"tbindings",get:function(){return this.bindings}},{key:"onCreate",value:function(){var t=this;this.disposeBag.push((0,n.EH)((function(){t.tbindings.titleText.text=t.model.description}))),this.disposeBag.push((0,n.EH)((function(){t.tbindings.amountText.text=t.model.rewardAmount.value.toString()}))),this.disposeBag.push((0,n.EH)((function(){var e=t.model.accumulated.value,r=t.model.needed.value;e=Math.min(r,e),e=Math.floor(e),t.tbindings.progressText.text="".concat(e,"/").concat(r);var n=t.tbindings.progressFill,o=t.tbindings.progressFillMask;n.mask=o,o.width=n.width*n.scale.x,o.x=o.width*((0,Et.V2)(e/r)-1)}))),this.disposeBag.push((0,n.EH)((function(){t.playSetClaimButtonVisible(t.model.canClaim)}))),this.disposeBag.push((0,n.EH)((function(){var e=t.model.isClaimed.value;t.tbindings.checkIcon.visible=e,t.tbindings.progressText.visible=!e,t.tbindings.titleText.alpha=e?.5:1,t.tbindings.amountText.alpha=e?.5:1,t.tbindings.amountIcon.visible=!e,t.tbindings.amountIconInactive.visible=e,t.tbindings.progressFill.visible=!e}))),this.tbindings.claimButton.on("button:click",(function(){t.model.canClaim&&t.model.claim()}))}},{key:"playSetClaimButtonVisible",value:(r=ao().mark((function t(e){var r,n,o,c,u;return ao().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.tbindings.claimButton).visible!==e){t.next=3;break}return t.abrupt("return");case 3:if(null===(r=this._playClaimFlash_bag)||void 0===r||r.dispose(),(o=this._playClaimFlash_bag=new oo.$n).push((0,i.v_)(this.disposeBag,o)),c=e||!this._claimButtonVisibleInitialized,this._claimButtonVisibleInitialized=!0,!c){t.next=12;break}n.visible=e,t.next=18;break;case 12:return u=this.tbindings.claimFlash,t.next=15,o.pushPipe(new a.kX(u).to({alpha:1},100).start());case 15:return n.visible=e,t.next=18,o.pushPipe(new a.kX(u).delay(150).to({alpha:0},150).start());case 18:o.dispose();case 19:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){co(i,n,o,a,c,"next",t)}function c(t){co(i,n,o,a,c,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)})}]);var r,o}(o.Z.Component);!function(t,e,r){(e=yo(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(vo,"defaultProps",{missionIndexZeroBased:{type:"number",value:0}});const bo={UpgradesMenuView:Pr,BatsPurchaseButtonScript:Se,BatsPurchaseEntryScript:er,BatsPurchasePopupView:jt,UpgradeTabView:Kr,UpgradeButtonScript:z,ProgressBarView:hr,BigBoardMap:Xt,CheckpointMap:ae,BaseButtonScript:mn,CoinsCounter:An,GemsCounter:Wn,LeagueCups:ro,DailyGiftItemView:no.F,DailyMissionView:vo}}}]);